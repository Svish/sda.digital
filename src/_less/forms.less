
*[contenteditable=true]
{
	cursor: text;
	font-style: italic;
	min-height: 1.5em;

	&:empty
	{
		display: block;
		&::before
		{
			content: attr(data-key) "…";
			opacity: .25;
		}
	}
}

*[data-key]:empty:not(td)
{
	display: block;
	&::before
	{
		content: attr(data-key) "…";
		opacity: .50;
	}
}


label
{
	cursor: pointer;
}

input[type=text],
input[type=email],
input[type=url],
input[type=password],
input[type=number],
input[type=tel],
input[type=date],
input[type=time],
input[type=search],
select,
textarea
{
	padding: .5em;
	width: 30ch;
	max-width: 100%;
	.box-sizing();

	background: @input-background-color;
	border: 1px solid @input-border-color;
	color: inherit;
	font-size: .9em;

	text-overflow: ellipsis;


	& + br
	{
		margin-bottom: .5em;
	}

	&:invalid
	{
		box-shadow: none;
		//border-color: @error-color;
	}

	&:required
	{
		background-image: 
			radial-gradient(@text-color 17%, transparent 17%);
		background-size: 1em 1em;
		background-position: top right;
		background-repeat: no-repeat;
	}

	// Placeholders
	&::-webkit-input-placeholder { color: @placeholder-color; /* Chrome/Opera/Safari */}
	&::-moz-placeholder          { color: @placeholder-color; /* Firefox 19+ */}
	&:-ms-input-placeholder      { color: @placeholder-color; /* IE 10+ */}
	&:-moz-placeholder           { color: @placeholder-color; /* Firefox 18- */}
	&::placeholder               { color: @placeholder-color; }
}
	select[data-bind*=data-selected]:not(:focus):not([data-selected]) { color: @small-color; }



// Textarea
textarea
{
	resize: vertical;
	min-height: 6em;
}


// Numbers
input[type=number]
{
	width: 12ch;
	
	-webkit-appearance: textfield;
	-moz-appearance: textfield;
	appearance: textfield;

	&::-webkit-outer-spin-button,
	&::-webkit-inner-spin-button
	{
		-webkit-appearance: none;
	}
}


// Fancy checkboxes
input[type=checkbox],
input[type=radio]
{
	position: absolute;
	left: -3em;
	& + label
	{
		display: block;
		&:hover
		{
			background: lighten(@background-color, 5%);
			outline: 1px solid lighten(@background-color, 25%);
		}
	}

	&:focus + label
	{
		outline: 1px dotted lighten(@background-color, 25%);
	}

	& + label::before
	{
		display: inline-block;
		content: "";
		height: 1em;
		width: 2em;
		background-size: .9em .9em;
		background-position: .75em .22em;
		background-repeat: no-repeat;
		background-image: 
			radial-gradient(darken(@text-color, 75%) 50%, transparent 50%);
	}
	&:checked + label::before
	{
		background-image: 
			radial-gradient(@text-color 50%, transparent 50%);
	}
}
.checkbox-list
{
	padding-left: 0;
	li
	{
		list-style: none;
	}
}


// Fieldset
fieldset
{
	margin: 0 0 1rem 0;
	
	&, legend
	{
		background: @input-background-color;
		border: 1px solid @input-border-color;	
	}
	legend
	{	
		display: block;
		padding: .25em .5em;
	}
}



// Focused
input,
select,
textarea,
button,
option
a
{
	&:focus
	{
		outline: 1px solid lighten(@input-border-color, 20%);
	}
}



// Errors
fieldset.error,
fieldset.error legend,
input.error,
textarea.error
{
	border-color: @error-color;
	&:required
	{
		background-image:
			radial-gradient(@error-color 17%, transparent 17%);
	}
}

tfoot.error
{
	color: white;
	background: fadeout(red, 50%);
}

.field.error
{
	font-size: .8em;
	color: @error-color;
	&::before
	{
		content: '\A';
		white-space: pre-line;
	}
}
.cell.error
{
	font-size: .8em;
	color: @error-color;
}


// Buttons
button
{
	vertical-align: middle;
}
button, a.button
{
	cursor: pointer;
	padding: .25em 1em;
	font-size: .9em;

	background: lighten(@background-color, 10%);
	border: 1px outset fade(@background-color,50%);
	color: inherit;

	transition: opacity 250ms;

	&:hover,
	&:active
	{
		color: inherit;
		&:not(:disabled)
		{
			border: 1px outset fade(@background-color,50%);
			background: lighten(@background-color, 15%);
		}
	}
	&:active:not(:disabled)
	{
		border: 1px inset fade(@background-color,50%);
	}

	&:disabled
	{
		opacity: .5;
		cursor: default;
	}
}
button + .button-note
{
	display: inline-block;
	margin-left: 1em;
	font-size: small;
	opacity: .5;
}


// "Editor" tables
table.editor
{
	td
	{
		vertical-align: top;
		input,
		select,
		textarea
		{
			width: 100%;
			padding-top: .2em;
			padding-bottom: .2em;
			font-size: 1em;
			position: relative;
			left: -.6em;
		}	
	}

	td.buttons,
	th.buttons
	{
		border-left: .2em solid @table-border-color;
	}
	td.buttons
	{
		text-align: center;
		font-size: 1.25em;
	}
}


// Other
address
{
	white-space: pre-line;
	display: block;
	font-style: normal;
	margin-bottom: 1em;
}
