{{% BLOCKS }}
{{< layout }}
{{$ title }}Velg filer{{/ title }}

{{$ content}}

<h1>Velg filer</h1>

<form action="{{PATH}}" method="post">

	<div data-bind="template: {name: 'group-template', foreach: view}"></div>

	<hr>
	<p>
		<button type="reset" data-bind="click: resetForm">Reset</button>
		<button type="submit" data-bind="click: submitForm">â†’</button>
	</p>
</form>

<!-- Template: Group -->
<script type="text/html" id="group-template">
	<section>
		<h2 data-bind="text: group"></h2>

		<div data-bind="template: {name: 'file-template', foreach: files}"></div>

		<p>
			<button type="button" data-bind="click: toggleSection">...</button>
		</p>
	</section>
</script>

<!-- Template: File -->
<script type="text/html" id="file-template">
	<input data-bind="attr:{id:$parentContext.$index()+'-'+$index()}, checkedValue: path, checked: selected" type="checkbox" name="files[]" />
	<label data-bind="attr:{for:$parentContext.$index()+'-'+$index()}, text: name"></label>
	<br>
</script>

<script src="js/admin-content-select-fresh.js"></script>

{{/ content}}
{{/ layout }}
